# 04-按钮组件（Buttons）

> 按钮是用户交互的核心组件，定义了点击、悬停等状态的视觉呈现

---

## 按钮类型

### 1. 主要按钮 (Primary Button)

**视觉特征**：
- 实心背景色
- 高对比度文本
- 圆角边框

**样式定义**：
```css
.button-primary {
  background-color: var(--SmartThemeQuoteColor);
  color: var(--white100);
  border: none;
  border-radius: 5px;
  padding: calc(var(--mainFontSize) * 0.5) calc(var(--mainFontSize) * 1);
  font-size: var(--mainFontSize);
  font-weight: 500;
  cursor: pointer;
  transition: all var(--animation-duration) ease;
}
```

**状态变化**：
- **Default**: 基础样式
- **Hover**: `filter: brightness(1.1)` + `transform: scale(1.02)`
- **Active**: `filter: brightness(0.9)` + `transform: scale(0.98)`
- **Disabled**: `opacity: 0.5` + `cursor: not-allowed`

---

### 2. 次要按钮 (Secondary Button)

**视觉特征**：
- 边框样式
- 半透明背景
- 与主题色调和

**样式定义**：
```css
.button-secondary {
  background-color: var(--black30a);
  color: var(--SmartThemeBodyColor);
  border: 1px solid var(--SmartThemeBorderColor);
  border-radius: 5px;
  padding: calc(var(--mainFontSize) * 0.5) calc(var(--mainFontSize) * 1);
  font-size: var(--mainFontSize);
  cursor: pointer;
  backdrop-filter: blur(5px);
}
```

**状态**：
- **Hover**: 边框亮度增加，背景略亮
- **Active**: 边框更亮，背景略暗

---

### 3. 图标按钮 (Icon Button)

**变体**：
- **圆形图标按钮**
- **方形图标按钮**
- **仅图标无背景**

**样式定义**：
```css
.button-icon {
  width: calc(var(--mainFontSize) * 2.5);
  height: calc(var(--mainFontSize) * 2.5);
  border-radius: 50%;  /* 圆形 */
  background-color: transparent;
  border: none;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all var(--animation-duration) ease;
}

.button-icon:hover {
  background-color: var(--white20a);
  transform: scale(1.1);
}
```

**图标尺寸**：
- 小图标: `calc(var(--mainFontSize) * 1.2)`
- 常规图标: `calc(var(--mainFontSize) * 1.5)`
- 大图标: `calc(var(--mainFontSize) * 2)`

---

### 4. 文本按钮 (Text Button)

**特征**：
- 无背景
- 无边框
- 仅文字和图标

**样式**：
```css
.button-text {
  background: none;
  border: none;
  color: var(--SmartThemeQuoteColor);
  font-size: var(--mainFontSize);
  cursor: pointer;
  text-decoration: underline;
}

.button-text:hover {
  color: var(--SmartThemeBodyColor);
  text-decoration: none;
}
```

---

### 5. 菜单按钮 (Menu Button)

**用途**: 导航栏、工具栏、操作面板

**样式**：
```css
.menu_button {
  background-color: var(--black30a);
  border: 1px solid var(--SmartThemeBorderColor);
  border-radius: 5px;
  padding: calc(var(--mainFontSize) * 0.4) calc(var(--mainFontSize) * 0.8);
  font-size: var(--mainFontSize);
  color: var(--SmartThemeBodyColor);
  cursor: pointer;
  backdrop-filter: blur(5px);
}
```

**变体**：
- `.menu_button_icon`: 图标+文字组合

---

## 按钮尺寸

### 尺寸变体

| 尺寸 | 高度 | 内边距（水平） | 字号 | 用途 |
|------|------|----------------|------|------|
| Small | 28px | 12px | 13px | 紧凑场景、内联操作 |
| Medium | 36px | 16px | 15px | 标准按钮 |
| Large | 44px | 24px | 16px | 主要操作、移动端 |

**实现**：
```css
.button-sm {
  height: calc(var(--mainFontSize) * 1.87);
  padding: 0 calc(var(--mainFontSize) * 0.8);
  font-size: calc(var(--mainFontSize) * 0.87);
}

.button-md {
  height: calc(var(--mainFontSize) * 2.4);
  padding: 0 calc(var(--mainFontSize) * 1.07);
  font-size: var(--mainFontSize);
}

.button-lg {
  height: calc(var(--mainFontSize) * 2.93);
  padding: 0 calc(var(--mainFontSize) * 1.6);
  font-size: calc(var(--mainFontSize) * 1.07);
}
```

---

## 按钮状态

### 视觉状态矩阵

| 状态 | 透明度 | 光标 | 变换 | 其他效果 |
|------|--------|------|------|----------|
| Default | 1 | pointer | none | - |
| Hover | 1 | pointer | scale(1.02) | brightness(1.1) |
| Active | 1 | pointer | scale(0.98) | brightness(0.9) |
| Focus | 1 | pointer | none | outline: 1px |
| Disabled | 0.5 | not-allowed | none | - |
| Loading | 1 | wait | none | 旋转图标 |

### 状态样式

**悬停 (Hover)**：
```css
.button:hover {
  filter: brightness(1.1);
  transform: scale(1.02);
}
```

**激活 (Active)**：
```css
.button:active {
  filter: brightness(0.9);
  transform: scale(0.98);
}
```

**聚焦 (Focus)**：
```css
.button:focus-visible {
  outline: 1px solid var(--interactable-outline-color);
  outline-offset: 2px;
}
```

**禁用 (Disabled)**：
```css
.button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  pointer-events: none;
}
```

**加载中 (Loading)**：
```css
.button-loading {
  cursor: wait;
  position: relative;
}

.button-loading::before {
  content: '';
  display: inline-block;
  width: 1em;
  height: 1em;
  border: 2px solid currentColor;
  border-top-color: transparent;
  border-radius: 50%;
  animation: spin 0.6s linear infinite;
  margin-right: 0.5em;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}
```

---

## 特殊按钮

### 1. 危险按钮 (Danger Button)

用于删除、清除等危险操作。

```css
.button-danger {
  background-color: var(--crimson70a);
  color: var(--white100);
  border: none;
}

.button-danger:hover {
  background-color: var(--crimson-hover);
}
```

### 2. 成功按钮 (Success Button)

用于确认、保存等成功操作。

```css
.button-success {
  background-color: var(--active);
  color: var(--white100);
  border: none;
}
```

### 3. 发送按钮 (Send Button)

底部输入区的主要操作按钮。

```css
#send_but {
  background-color: var(--SmartThemeQuoteColor);
  color: var(--white100);
  border: none;
  border-radius: 5px;
  padding: calc(var(--bottomFormBlockPadding));
  font-size: calc(var(--bottomFormIconSize) * 0.6);
  min-width: calc(var(--bottomFormIconSize) * 2);
}
```

---

## 按钮组 (Button Group)

### 水平按钮组

```css
.button-group {
  display: flex;
  gap: 5px;
  align-items: center;
}

.button-group .button:not(:first-child) {
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;
}

.button-group .button:not(:last-child) {
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;
  border-right: none;
}
```

### 垂直按钮组

```css
.button-group-vertical {
  display: flex;
  flex-direction: column;
  gap: 5px;
}
```

---

## 图标+文本组合

### 左图标
```css
.button-with-icon {
  display: flex;
  align-items: center;
  gap: calc(var(--mainFontSize) * 0.5);
}

.button-with-icon .icon {
  font-size: calc(var(--mainFontSize) * 1.2);
}
```

### 仅图标（带Tooltip）
```css
.button-icon-only {
  position: relative;
}

.button-icon-only[title]:hover::after {
  content: attr(title);
  position: absolute;
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%);
  background-color: var(--grey30);
  color: var(--white100);
  padding: 5px 10px;
  border-radius: 5px;
  white-space: nowrap;
  font-size: calc(var(--mainFontSize) * 0.9);
}
```

---

## 移动端优化

### 触摸区域
```css
@media (max-width: 768px) {
  .button {
    min-height: 44px;  /* iOS 推荐最小触摸区域 */
    min-width: 44px;
  }
  
  .button-group {
    gap: 8px;  /* 增加间距避免误触 */
  }
}
```

---

## Figma 组件结构

```
Button/
├── Primary/
│   ├── Default
│   ├── Hover
│   ├── Active
│   ├── Disabled
│   └── Loading
├── Secondary/
│   └── (同上状态)
├── Icon/
│   ├── Round/
│   └── Square/
├── Text/
│   └── (同上状态)
└── Special/
    ├── Danger
    ├── Success
    └── Send
```

**使用 Variants**：
- Type: Primary / Secondary / Icon / Text
- Size: Small / Medium / Large
- State: Default / Hover / Active / Disabled / Loading

---

## 导出 JSON

```json
{
  "button": {
    "primary": {
      "background": "#E18A24",
      "color": "#FFFFFF",
      "borderRadius": "5px"
    },
    "secondary": {
      "background": "rgba(0, 0, 0, 0.3)",
      "border": "1px solid rgba(0, 0, 0, 0.5)",
      "borderRadius": "5px"
    },
    "size": {
      "small": { "height": "28px", "padding": "0 12px", "fontSize": "13px" },
      "medium": { "height": "36px", "padding": "0 16px", "fontSize": "15px" },
      "large": { "height": "44px", "padding": "0 24px", "fontSize": "16px" }
    }
  }
}
```
